# GPTrace Evaluation Artifacts

This project is not maintained.
It has been published as part of the following conference paper:

> Patrick Herter, Vincent Ahlrichs, Ridvan Açilan, and Julian Horsch. 2026.
> GPTrace: Effective Crash Deduplication Using LLM Embeddings. In 2026
> IEEE/ACM 48th International Conference on Software Engineering (ICSE ’26),
> April 12–18, 2026, Rio de Janeiro, Brazil. ACM, New York, NY, USA, 12 pages.
> <https://doi.org/10.1145/3744916.3773161>

This repository contains data and scripts that are necessary to reproduce the
evaluation that was part of this paper.
The main GPTrace deduplication tool can be found in its
[own repository](https://github.com/Fraunhofer-AISEC/gptrace).

## Overview

This directory contains the following:

- [`default/`](/default/): Our rudimentary implementation of DeFault based on
  the following paper:
  > Xing Zhang, Jiongyi Chen, Chao Feng, Ruilin Li, Wenrui Diao, Kehuan Zhang,
  > Jing Lei, and Chaojing Tang. 2022.
  > DeFault: mutual information-based crash triage for massive crashes.
  > In Proceedings of the 44th International Conference on Software Engineering
  > (ICSE '22). Association for Computing Machinery, New York, NY, USA, 635–646.
  > <https://doi.org/10.1145/3510003.3512760>
- [`gptrace/`](/gptrace/): The prototype implementation of GPTrace.
- [`reproduce/`](/reproduce/): Output path for the evaluation scripts
- [`scripts/`](/scripts/): A collection of scripts to reproduce our evaluation
- [`CRASHWALK_EVALUATION.md`](/CRASHWALK_EVALUATION.md): Explains how to
  evaluate Crashwalk with your own data sources
- [`DEFAULT_EVALUATION.md`](/DEFAULT_EVALUATION.md): Explains how to evaluate
  our rudimentary DeFault implementation with your own data sources
- [`GENERATE_DATA_SOURCES.md`](/GENERATE_DATA_SOURCES.md): Explains how to
  generate data sources that are needed for GPTrace
- [`GPTRACE_EVALUATION.md`](/GPTRACE_EVALUATION.md): Explains how to evaluate
  GPTrace with your own data sources
- [`README.md`](/README.md): This document

## Reproduce GPTrace Evaluation Results Using Provided Data Sources

We explain here how to reproduce our evaluation of GPTrace using the stack
traces, ASan reports and embeddings that we collected and which are provided
here.
If you want to generate fresh stack traces, ASan reports and embeddings, see
[`GENERATE_DATA_SOURCES.md`](/GENERATE_DATA_SOURCES.md) and
[`GPTRACE_EVALUATION.md`](/GPTRACE_EVALUATION.md).
If you want to evaluate Crashwalk or DeFault, see 
[`CRASHWALK_EVALUATION.md`](/CRASHWALK_EVALUATION.md) and
[`DEFAULT_EVALUATION.md`](/DEFAULT_EVALUATION.md).

## Requirements

- Python 3 with pip and venv
- git

## Steps

### Preparation

- Clone and enter this repository

  ```bash
  git clone --recurse-submodules https://github.com/Fraunhofer-AISEC/gptrace-artifacts.git
  cd gptrace-artifacts
  ```

- If you already have [uv](https://github.com/astral-sh/uv) installed, skip this
  step.
  Otherwise, install it either on your host by following the steps from the
  official [documentation](https://docs.astral.sh/uv/) or in a Python virtual
  environment

  ```bash
  python -m venv gptrace/.venv
  source gptrace/.venv/bin/activate
  pip install uv
  ```

- Now GPTrace should be usable as follows:

  ```bash
  pushd gptrace
  uv run gptrace --help
  popd
  ```

### Get Data Sources

  ```bash
  scripts/get_data_sources.sh
  ```

- This downloads `cache.tar.gz` and `data_sources.tar.gz` from our
  [Zenodo repository](https://zenodo.org/records/18708473).

### Reproduce Results

  ```bash
  scripts/reproduce_eval.sh
  ```

- View the results and potential errors in
  `reproduce/evaluation/results/${LABEL}/${TARGET}/log`.
  Here, `${LABEL}` is one of the following:
  - `asan_only`: Only uses ASan reports and no stack traces
  - `coarse_traces_only`: Only uses coarse stack traces and no ASan reports
  - `full_traces_only`: Only uses full stack traces and no ASan reports
  - `gptrace_default`: The default GPTrace configuration using full and coarse
    stack traces as well as ASan reports and generates embeddings using OpenAI's
    text-embedding-3-large model
  - `no_asan`: Uses coarse and full stack traces but no ASan reports
  - `no_coarse`: Uses ASan reports and full stack traces but no coarse traces
  - `no_full`: Uses ASan reports and coarse stack traces but no full traces
  - `nv-embed`: Uses embeddings generated by the
    [NV-Embed-v2](https://huggingface.co/nvidia/NV-Embed-v2) model
  - `stella`: Uses embeddings generated by the
    [stella_en_1.5B_v5](https://huggingface.co/NovaSearch/stella_en_1.5B_v5)
    model
